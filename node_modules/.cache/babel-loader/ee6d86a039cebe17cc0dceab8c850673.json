{"ast":null,"code":"import _slicedToArray from \"/Users/cooperjones/Documents/_Object/mlb-final-project-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/cooperjones/Documents/_Object/mlb-final-project-react/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport TeamHeader from './TeamHeader';\nimport Stats from './Stats';\n\nfunction App() {\n  const _useState = useState(2019),\n        _useState2 = _slicedToArray(_useState, 2),\n        year = _useState2[0],\n        setYear = _useState2[1];\n\n  const _useState3 = useState(1869),\n        _useState4 = _slicedToArray(_useState3, 2),\n        firstYearOfPlay = _useState4[0],\n        setFirstYearOfPlay = _useState4[1];\n\n  const _useState5 = useState(115),\n        _useState6 = _slicedToArray(_useState5, 2),\n        teamId = _useState6[0],\n        setTeamId = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        error = _useState8[0],\n        setError = _useState8[1];\n\n  const _useState9 = useState(1023),\n        _useState10 = _slicedToArray(_useState9, 2),\n        sliderValue = _useState10[0],\n        setSliderValue = _useState10[1];\n\n  const _useState11 = useState({\n    \"venue\": {\n      \"name\": \"-\"\n    },\n    \"locationName\": \"-\",\n    \"firstYearOfPlay\": \"1890\",\n    \"division\": {\n      \"name\": \"-\"\n    },\n    \"fileCode\": \"col\",\n    \"league\": {\n      \"name\": \"-\"\n    }\n  }),\n        _useState12 = _slicedToArray(_useState11, 2),\n        teamInfo = _useState12[0],\n        setTeamInfo = _useState12[1];\n\n  const _useState13 = useState(\"\"),\n        _useState14 = _slicedToArray(_useState13, 2),\n        teamName = _useState14[0],\n        setTeamName = _useState14[1];\n\n  const _useState15 = useState(\"-\"),\n        _useState16 = _slicedToArray(_useState15, 2),\n        division = _useState16[0],\n        setDivision = _useState16[1];\n\n  const _useState17 = useState({\n    \"accentColor\": \"#aaa\",\n    \"darkColor\": \"#000\",\n    \"lightColor\": \"#fff\"\n  }),\n        _useState18 = _slicedToArray(_useState17, 2),\n        theme = _useState18[0],\n        setTheme = _useState18[1]; // const [teamStats, setTeamStats] = useState({});\n\n\n  const _useState19 = useState('http://statsapi.mlb.com/api/v1/teams?teamId=' + teamId + '&season=' + year),\n        _useState20 = _slicedToArray(_useState19, 2),\n        teamInfoUrl = _useState20[0],\n        setTeamInfoUrl = _useState20[1]; // const [teamInfoUrl, setTeamInfoUrl] = useState('http://statsapi.mlb.com/api/v1/teams?teamId='+ teamId +'&season='+ year);\n  // const teamInfoUrl = 'http://statsapi.mlb.com/api/v1/teams?teamId='+ teamId +'&season='+ year;\n  // const teamBackgroundColor = '#33006F';\n  // const teamTextColor = '#C4CED4';\n\n\n  useEffect(() => {\n    let inter;\n    setInterval(() => {\n      let cancelYear;\n      axios.get(\"http://localhost:5000/api/data\", {\n        cancelToken: new axios.CancelToken(c => cancelYear = c),\n        timeout: 100\n      }).then(res => {\n        setYear(Math.round(mapRange(res.data.sliderValue, 0, 1023, firstYearOfPlay, 2019)));\n        setTeamId(res.data.id);\n        setTheme(res.data.theme);\n      }).catch(err => {// console.log(err.message);\n      });\n      return () => cancelYear();\n    }, 300);\n  }, []);\n  useEffect(() => {\n    // console.log(year);\n    setError(false); // setLoading(true);\n    // setTeamFound(false);\n\n    setTeamInfoUrl('http://statsapi.mlb.com/api/v1/teams?teamId=' + teamId + '&season=' + year);\n    let cancel;\n    axios.get(teamInfoUrl, {\n      cancelToken: new axios.CancelToken(c => cancel = c),\n      timeout: 2000\n    }).then(res => {\n      setFirstYearOfPlay(res.data.teams[0].firstYearOfPlay);\n      setTeamName(res.data.teams[0].name);\n      setDivision(res.data.teams[0].division.name); // setLoading(false);\n      // setTeamFound(true);\n\n      setTeamInfo(res.data.teams[0]);\n    }).catch(err => {\n      if (teamId === -1) {\n        setTeamName(\"Loading...\");\n      } // setLoading(false);\n      // setTeamFound(false);\n\n\n      setError(true); // console.log(year);\n      // console.log(err.message);\n      // return \"team not found\";\n    });\n    return () => cancel();\n  }, [year, teamId, teamInfoUrl]); // if(loading) return \"loading...\"\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(TeamHeader, {\n    theme: theme,\n    teamName: teamName,\n    teamId: teamId,\n    season: year,\n    teamInfo: teamInfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(Stats, {\n    division: division,\n    teamInfo: teamInfo,\n    theme: theme,\n    error: error,\n    id: teamId,\n    year: year,\n    teamStatsUrl: \"http://statsapi.mlb.com/api/v1/standings/regularSeason?leagueId=103,104&season=\" + year,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }));\n}\n\nfunction mapRange(value, a, b, c, d) {\n  // first map value from (a..b) to (0..1)\n  value = (value - a) / (b - a); // then map it from (0..1) to (c..d) and return it\n\n  return c + value * (d - c);\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/cooperjones/Documents/_Object/mlb-final-project-react/src/App.js"],"names":["React","useState","useEffect","axios","TeamHeader","Stats","App","year","setYear","firstYearOfPlay","setFirstYearOfPlay","teamId","setTeamId","error","setError","sliderValue","setSliderValue","teamInfo","setTeamInfo","teamName","setTeamName","division","setDivision","theme","setTheme","teamInfoUrl","setTeamInfoUrl","inter","setInterval","cancelYear","get","cancelToken","CancelToken","c","timeout","then","res","Math","round","mapRange","data","id","catch","err","cancel","teams","name","value","a","b","d"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport TeamHeader from './TeamHeader';\nimport Stats from './Stats';\n\nfunction App(){\n  const [year, setYear] = useState(2019);\n  const [firstYearOfPlay, setFirstYearOfPlay] = useState(1869);\n  const [teamId, setTeamId] = useState(115);\n  const [error, setError] = useState(false);\n  const [sliderValue, setSliderValue] = useState(1023);\n  const [teamInfo, setTeamInfo] = useState({\n    \"venue\": {\n      \"name\": \"-\"\n      },\n    \"locationName\": \"-\",\n    \"firstYearOfPlay\": \"1890\",\n    \"division\":{\n      \"name\": \"-\"\n    },\n    \"fileCode\":\"col\",\n    \"league\":{\n      \"name\": \"-\"\n    }\n  });\n  const [teamName, setTeamName] = useState(\"\");\n  const [division, setDivision] = useState(\"-\")\n  const [theme, setTheme] = useState({\n    \"accentColor\": \"#aaa\",\n    \"darkColor\": \"#000\",\n    \"lightColor\": \"#fff\"\n  });\n  // const [teamStats, setTeamStats] = useState({});\n  const [teamInfoUrl, setTeamInfoUrl] = useState('http://statsapi.mlb.com/api/v1/teams?teamId='+ teamId +'&season='+ year);\n  // const [teamInfoUrl, setTeamInfoUrl] = useState('http://statsapi.mlb.com/api/v1/teams?teamId='+ teamId +'&season='+ year);\n  // const teamInfoUrl = 'http://statsapi.mlb.com/api/v1/teams?teamId='+ teamId +'&season='+ year;\n  // const teamBackgroundColor = '#33006F';\n  // const teamTextColor = '#C4CED4';\n\n  useEffect(() => {\n    let inter\n    setInterval(() => {\n      let cancelYear\n      axios.get(\"http://localhost:5000/api/data\", {\n        cancelToken: new axios.CancelToken(c => cancelYear = c),\n        timeout:100\n      })\n      .then(res => {\n        setYear(Math.round(mapRange(res.data.sliderValue, 0, 1023, firstYearOfPlay, 2019)));\n        setTeamId(res.data.id);\n        setTheme(res.data.theme);\n      })\n      .catch(err =>{\n        // console.log(err.message);\n      });\n      return () => cancelYear()\n    }, 300);\n  },[])\n\n  useEffect(() => {\n    // console.log(year);\n    setError(false);\n    // setLoading(true);\n    // setTeamFound(false);\n    setTeamInfoUrl('http://statsapi.mlb.com/api/v1/teams?teamId='+ teamId +'&season='+ year);\n    let cancel\n    axios.get(teamInfoUrl, {\n      cancelToken: new axios.CancelToken(c => cancel = c),\n      timeout:2000\n    })\n    .then(res => {\n      setFirstYearOfPlay(res.data.teams[0].firstYearOfPlay);\n      setTeamName(res.data.teams[0].name);\n      setDivision(res.data.teams[0].division.name);\n      // setLoading(false);\n      // setTeamFound(true);\n      setTeamInfo(res.data.teams[0]);\n    })\n    .catch(err =>{\n      if(teamId === -1){\n        setTeamName(\"Loading...\")\n      }\n\n      // setLoading(false);\n      // setTeamFound(false);\n      setError(true);\n      // console.log(year);\n      // console.log(err.message);\n      // return \"team not found\";\n    })\n\n    return () => cancel()\n  }, [year, teamId, teamInfoUrl])\n\n  // if(loading) return \"loading...\"\n\n  return(\n    <div>\n      <TeamHeader theme={theme} teamName={teamName} teamId={teamId} season={year} teamInfo={teamInfo}/>\n      <Stats division={division} teamInfo={teamInfo} theme={theme} error={error} id={teamId} year={year} teamStatsUrl={\"http://statsapi.mlb.com/api/v1/standings/regularSeason?leagueId=103,104&season=\" + year}/>\n    </div>\n  );\n\n}\n\nfunction mapRange (value, a, b, c, d) {\n    // first map value from (a..b) to (0..1)\n    value = (value - a) / (b - a);\n    // then map it from (0..1) to (c..d) and return it\n    return c + value * (d - c);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}